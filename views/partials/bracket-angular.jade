.hide(ng-joy-ride='startJoyRide', config='config', on-finish='onFinish()', on-skip='onFinish()')
.jumbotron.text-center
	h1 Geek City
	div.pickCounter(ng-show="doneWithTutorial || showPickCounter") {{pickCountTotal()['Completed Picks']}}/{{pickCountTotal()['Total Picks']}}
	.btn-group(role='group')
		button.btn.btn-default(type='button', id="shuffle-button" ng-click="randomizePicks()" ng-show = "doneWithTutorial || showShuffle")
			span.glyphicon.glyphicon-random
		button.btn.btn-default(type='button', id="clear-bracket-button" ng-click="clearBracket()" ng-show = "doneWithTutorial || showErase")
			span.glyphicon.glyphicon-erase
		button.btn.btn-default.dropdown-toggle(type='button' , data-toggle='dropdown', id="show-colors-dropdown" ng-show = "doneWithTutorial || showColors")
			span(class="rainbow glyphicon glyphicon-option-horizontal")
			span(class="caret")
		ul.dropdown-menu(role='menu')
			li
				a(href='#') Dropdown link
			li
				a(href='#') Dropdown link

	div.container
		button(type="submit" class="btn btn-primary save-button" ng-if="changedBracket()" ng-click="saveChanges()") Save changes
		div(class="final-score" ng-show="getTeamName(4, 1, 0, 1) != null && getTeamName(4, 1, 0, 2) != null")
			div(class="team-names")
				div(class="finals-1-team finals-team") {{getTeamName(4, 1, 0, 1)}}
				div(class="finals-2-team finals-team") {{getTeamName(4, 1, 0, 2)}}
			div(class="projected-score")
				input(ng-model="finals_1_projected_score" name="finals-1-proj-score" class="projected-score")
				input(ng-model="finals_2_projected_score" name="finals-2-proj-score" class="projected-score")
		div(class="championship-bracket")
			div.row
				div.col-xs-2.spacer spacer
				div.col-xs-8.final-four#champion(ng-class="{'chosen-champion': getChampion(4) != null}") {{getChampion(4)}}
				div.col-xs-2.spacer spacer
			div.row(id="finals-match")
				div.col-xs-1.spacer spacer
				div.col-xs-3.final-four#finals-1(ng-class="{'team-selectable': canClick(4,1, 0, 1), 'team-chosen-to-lose':  choseToLose(4,1, 0, 1) } " ng-click="moveTop(4,1,0, 1)") {{getTeamName(4, 1, 0, 1)}}
				div.col-xs-4.spacer spacer
				div.col-xs-3.final-four#finals-2(ng-class="{'team-selectable': canClick(4,1, 0, 2), 'team-chosen-to-lose':  choseToLose(4,1, 0, 2) } " ng-click="moveTop(4,1,0, 2)") {{getTeamName(4, 1, 0, 2)}}
				div.col-xs-1.spacer spacer
			div.row
				div.col-xs-2.final-four#region-1-winner(ng-class="{'team-selectable': canClick(4,2,0,1), 'team-chosen-to-lose':  choseToLose(4,2,0, 1) } " ng-click="moveTop(4,2,0,1)") {{getTeamName(4,2,0, 1)}}
				div.col-xs-1.spacer spacer
				div.col-xs-2.final-four#region-3-winner(ng-class="{'team-selectable': canClick(4,2,0,2), 'team-chosen-to-lose':  choseToLose(4,2,0, 2) } " ng-click="moveTop(4,2,0,2)") {{getTeamName(4,2,0, 2)}}
				div.col-xs-2.spacer spacer
				div.col-xs-2.final-four#region-2-winner(ng-class="{'team-selectable': canClick(4,2,1, 1), 'team-chosen-to-lose':  choseToLose(4,2,1,1) } " ng-click="moveTop(4,2,1,1)") {{getTeamName(4,2,1, 1)}}
				div.col-xs-1.spacer spacer
				div.col-xs-2.final-four#region-4-winner(ng-class="{'team-selectable': canClick(4,2,1,2), 'team-chosen-to-lose':  choseToLose(4,2,1,2) } " ng-click="moveTop(4,2,1,2)") {{getTeamName(4,2,1, 2)}}
		div.teams
			div(ng-repeat="k in [0,1,2,3]")
				div(ng-if="k==2", class="buffer")
				div(class="region region-{{$index}}")
					div(ng-repeat="i in [0,1,2,3]" class="round round-{{$index}}")
						div(ng-repeat="j in matchupCount($index) track by $index" class="matchup matchup-{{$index}}" ng-class="{'joyridecustom1': (k == 0 && i == 0 && $index == 0), 'joyridecustom2': (k == 0 && i == 1 && $index == 0), 'joyridecustom3': (k == 0 && i == 3 && $index == 0)}")
							//starts with 2^i and then goes to 2^(i+1)-1 but in reverse; the 1 in the function is whether it is first team or second team
							div.firstTeam(style='height: {{getNewHeight($parent.$index)}}px;', ng-click="moveTop(k,(4-$parent.$index), $index, 1)")
								div(class = "team", ng-class="{'team-selectable': canClick(k,(4-$parent.$index), $index, 1), 'team-chosen-to-lose':  choseToLose(k,(4-$parent.$index), $index, 1)  } ") {{getTeamName(k, (4-$parent.$index), $index, 1)}}
							div(class="firstSpacer" ng-class="{'firstSpacer-right': ($parent.$parent.$index%2==1), 'firstSpacer-left': ($parent.$parent.$index%2==0)}", style = "height: {{getNewHeight($parent.$index)}}px;")
							div(class="secondTeam" ng-class="{'secondTeam-right': ($parent.$parent.$index%2==1), 'secondTeam-left': ($parent.$parent.$index%2==0)}", style='height: {{getNewHeight($parent.$index)}}px;', ng-click="moveTop(k,(4-$parent.$index), $index, 2)")
								div(class = "team", ng-class="{'team-selectable': canClick(k,(4-$parent.$index), $index, 2), 'team-chosen-to-lose':  choseToLose(k,(4-$parent.$index), $index, 2) } ") {{getTeamName(k, (4-$parent.$index), $index, 2)}}
							div(class="secondSpacer", style = "height: {{getNewHeight($parent.$index)}}px;")
link(rel='stylesheet', href='/css/bracket.css')